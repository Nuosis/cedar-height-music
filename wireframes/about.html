<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About - Cedar Heights Music Academy</title>
  <meta name="description" content="Learn about Cedar Heights Music Academy's dedicated teacher and personalized approach to music education in Cedar Heights.">
  
  <!-- Page Blueprints Design System -->
  <link rel="stylesheet" href="wireframe-styles.css">
  
  <!-- Accessibility -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
  
  <!-- Page Blueprints Global Navigation - Lines 27-30 -->
  <div id="navigation-placeholder">
    <!-- Navigation component will be loaded here -->
  </div>

  <main id="main-content">
    
    <!-- Page Blueprints About Hero Section - Lines 156-185 -->
    <section class="about-hero-section section" data-wireframe-section="about-hero" data-measurement-point="about-hero-height">
      
      <div class="page-container">      
        <!-- Page Blueprints Main Headline - Line 163 -->
        <h1 class="about-hero-headline" data-typography-container="about-hero-headline" data-measurement-point="about-headline-size">
          Teaching music with heart and patience
        </h1>

        <!-- Page Blueprints Hero Layout Structure - Lines 161-165 -->
        <div class="about-hero-content" data-measurement-point="about-hero-content">
          
          <!-- Page Blueprints Eyebrow Text - Line 162 -->
          <!-- <div class="hero-eyebrow" data-typography-container="about-eyebrow">
            Teaching music with heart and patience
          </div> -->
          
          <!-- Page Blueprints Call-to-Action - Lines 178-181 -->
          <div class="about-hero-cta" data-measurement-point="about-hero-cta">
            <button onclick="openEnrollModal()" class="primary-cta" data-measurement-point="about-primary-cta">
              Enroll Now
              <span class="cta-arrow" data-asset-container="arrow-icon">‚Üí</span>
            </button>
          </div>
        </div>
        <!-- Page Blueprints Background Composition - Lines 165-177 -->
        <div class="about-hero-background" data-wireframe-section="about-hero-background">
          <!-- Page Blueprints Central Element - Line 167: Group 255.png -->
          <div class="hero-background-shape" data-asset-container="group-255-background" data-measurement-point="background-shape-size"></div>
        </div>
        <!-- Page Blueprints Character Illustration - Lines 169-173 -->
        <div class="hero-character-container" data-asset-container="girl-guitar-character" data-measurement-point="character-positioning" style="position: absolute; bottom: 100px; right: 20%; transform: translateX(0);">
          <img src="../public/girl&guitar.png" alt="" role="presentation" class="about-hero-character" />
        </div>
      </div>
    </section>

    <!-- Page Blueprints Studio Story Section - Lines 187-207 -->
    <section class="studio-story-section section" data-wireframe-section="studio-story" data-measurement-point="studio-story-height">
      <div class="page-container">
        <div class="two-column-grid" data-measurement-point="studio-story-grid">
          
          <!-- Page Blueprints Left Column Content - Lines 189-195 -->
          <div class="studio-story-content" data-wireframe-section="studio-story-text">
            
            <!-- Page Blueprints Eyebrow - Line 190 -->
            <div class="eyebrow" data-typography-container="studio-story-eyebrow">About us</div>
            
            <!-- Page Blueprints Main Heading - Line 191 -->
            <h2 class="section-heading" data-typography-container="studio-story-heading">
              Master Music from the Core and Achieve Excellence
            </h2>
            
            <!-- Page Blueprints Body Content - Line 192 -->
            <div class="studio-story-text" data-typography-container="studio-story-body">
              <p>At Cedar Heights Music Academy, we believe that every student has the potential to excel in music. Our personalized approach focuses on building strong fundamentals while nurturing each student's unique musical voice.</p>
              <p>Located in the heart of Cedar Heights, we're proud to serve the Nanaimo community with dedicated, one-on-one instruction that adapts to each student's learning style and goals.</p>
            </div>
            
            <!-- Page Blueprints Feature Highlights - Lines 193-195 -->
            <div class="feature-highlights" data-wireframe-section="feature-highlights" data-measurement-point="feature-highlights">
              <div class="feature-item" data-typography-container="feature-item">
                <span class="feature-icon" data-asset-container="checkmark-icon">‚úì</span>
                <span class="feature-text">Private Lessons</span>
              </div>
              <div class="feature-item" data-typography-container="feature-item">
                <span class="feature-icon" data-asset-container="checkmark-icon">‚úì</span>
                <span class="feature-text">All Ages Welcome</span>
              </div>
            </div>
          </div>
          
          <!-- Page Blueprints Right Column - Lines 196-205 -->
          <div class="studio-story-images" data-wireframe-section="studio-story-images">
            <div class="image-cluster" data-measurement-point="image-cluster-size">
              
              <!-- North Row: West ‚Öî, East ‚Öì -->
              <div class="north-row">
                <div class="cluster-image north-west" data-asset-container="piano-teacher-image">
                  <img src="../public/piano-teacher-student.jpg" alt="Piano teacher working with student" />
                </div>
                <div class="cluster-image north-east" data-asset-container="guitar-lesson-image">
                  <img src="../public/guitar-lesson-teaching.jpg" alt="Guitar lesson instruction" />
                </div>
              </div>
              
              <!-- South Row: West ‚Öì, East ‚Öî -->
              <div class="south-row">
                <div class="cluster-image south-west" data-asset-container="bass-lesson-image">
                  <img src="../public/bass-lesson-instruction.jpg" alt="Bass lesson instruction" />
                </div>
                <div class="cluster-image south-east" data-asset-container="music-lesson-image">
                  <img src="../public/music-lesson-general.jpg" alt="General music lesson" />
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Page Blueprints Teacher Card Section - Lines 209-211 -->
    <section class="teacher-card-section section" data-wireframe-section="teacher-card" data-measurement-point="teacher-card-height">
      <div class="page-container">
        <div class="teacher-card-container" style="max-width: 600px; margin: 0 auto;">
          
          <!-- Page Blueprints Single Teacher Card - Line 210 -->
          <div class="teacher-card card" data-wireframe-section="single-teacher" data-measurement-point="teacher-card-size">
            
            <!-- Page Blueprints Photo - Line 210: 120√ó120 rounded -->
            <div class="teacher-photo" data-asset-container="teacher-photo" data-measurement-point="teacher-photo-size">
              <img src="../public/logo.JPG" alt="Cedar Heights Music Academy Teacher" class="teacher-image" />
            </div>
            
            <div class="teacher-info">
              <!-- Page Blueprints Name - Line 210 -->
              <h3 class="teacher-name" data-typography-container="teacher-name">Kaeden Ottenbreit</h3>
              
              <!-- Page Blueprints Instruments Taught - Line 210 -->
              <div class="teacher-instruments" data-typography-container="teacher-instruments">
                Piano, Guitar, Bass
              </div>
              
              <!-- Page Blueprints Short Bio - Line 210: 3-4 lines -->
              <p class="teacher-bio" data-typography-container="teacher-bio">
                Kaeden brings patience and expertise to every lesson. He specializes in helping beginners build confidence while challenging advanced students to reach new heights. 
                Kaeden has already help many musicians and believes every student can find joy in music.
              </p>
              
              <!-- Page Blueprints Optional Chips - Line 211 -->
              <div class="teacher-availability" data-wireframe-section="teacher-availability">
                <span class="availability-chip" data-typography-container="availability-chip">Daytime Appointments Available</span>
                <span class="availability-chip" data-typography-container="availability-chip">Open Wed/Thu</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Page Blueprints Compact CTA Band - Lines 213-214 -->
    <section class="compact-cta-section section" data-wireframe-section="compact-cta" data-measurement-point="compact-cta-height">
      <div class="page-container">
        <div class="compact-cta-content" style="text-align: center;">
          
          <!-- Page Blueprints Short Line - Line 214 -->
          <p class="cta-prompt" data-typography-container="cta-prompt">Ready to start?</p>
          
          <!-- Page Blueprints Button - Line 214 -->
          <button onclick="openEnrollModal()" class="primary-cta" data-measurement-point="compact-cta-button">Enroll Now</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer Component -->
  <div id="footer-placeholder">
    <!-- Footer component will be loaded here -->
  </div>

  <!-- Enroll Modal Component -->
  <div id="enroll-modal-placeholder">
    <!-- Modal component will be loaded here -->
  </div>

  <!-- Enroll Modal Component (Fallback) -->
  <div class="enroll-modal-overlay" id="enroll-modal" style="display: none;">
    <div class="enroll-modal-container">
      <div class="enroll-modal-header">
        <button class="modal-close" aria-label="Close enrollment modal">
          <span class="close-icon">√ó</span>
        </button>
        <h2 class="modal-title">Start Your Musical Journey</h2>
        <p class="modal-subtitle">Contact us to begin your enrollment</p>
      </div>
      <div class="enroll-modal-content">
        <div class="modal-step active">
          <h3 class="step-title">Ready to Get Started?</h3>
          <p class="step-description">Contact us today to schedule your first lesson and begin your musical journey.</p>
          <div style="text-align: center; margin-top: 2rem;">
            <a href="contact.html" class="primary-cta" style="text-decoration: none;">
              Contact Us
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Page-specific styles -->
  <style>
    /* About Hero Section - Page Blueprints Lines 156-185 */
    .about-hero-section {
      position: relative;
      min-height: 80vh;
      display: flex;
      align-items: flex-start;
      padding-top: 100px;
      background: var(--color-warm-off-white); /* Page Blueprints Line 168: Warm off-white/cream background */
      overflow: hidden;
    }
    
    .about-hero-content {
      position: relative;
      z-index: 3;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100%;
      padding-top: 2rem;
    }
    
    /* Page Blueprints Eyebrow Text - Line 162 */
    .hero-eyebrow {
      font-size: 1rem; /* Page Blueprints Line 164: Eyebrow ~16px */
      color: var(--color-primary-green);
      font-weight: 500;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    /* Page Blueprints Main Headline - Line 163 */
    .about-hero-headline {
      font-size: 3.5rem; /* Page Blueprints Line 164: headline ~48-56px desktop */
      font-weight: 700;
      z-index: 10;
      line-height: 1.15;
      color: var(--color-dark-text);
      margin-bottom: 2rem;
    }
    
    .about-hero-cta {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    
    /* Page Blueprints Background Composition - Lines 165-177 */
    .about-hero-background {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
    }
    
    /* Page Blueprints Central Element - Line 167: ~60% width */
    .hero-background-shape {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60%;
      height: 400px;
      background-image: url('../public/Group 255.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      z-index: 1;
    }
    
    /* Page Blueprints Character Illustration - Lines 169-173 */
    .hero-character-container {
      position: absolute;
      top: 50%;
      right: 25%; /* Page Blueprints Line 170: right-center of background shape */
      transform: translateY(-50%);
      z-index: 2;
    }
    
    .about-hero-character {
      width: 200px; /* Page Blueprints Line 173: sized to feel welcoming and personal */
      height: auto;
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));
    }
    
    /* Page Blueprints Decorative Elements - Lines 174-177 */
    .hero-decorative-elements {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      pointer-events: none;
    }
    
    .musical-accent {
      position: absolute;
      font-size: 2rem;
      color: var(--color-warm-yellow);
      opacity: 0.3; /* Page Blueprints Line 175: low opacity */
    }
    
    .accent-note-1 {
      top: 20%;
      left: 15%;
      transform: rotate(-15deg);
    }
    
    .accent-note-2 {
      bottom: 25%;
      right: 20%;
      transform: rotate(20deg);
    }
    
    .accent-clef {
      top: 15%;
      right: 15%;
      font-size: 3rem;
    }
    
    .organic-shape {
      position: absolute;
      border-radius: 50%;
      background: var(--color-warm-yellow);
      opacity: 0.15; /* Page Blueprints Line 177: soft, rounded background elements */
    }
    
    .shape-1 {
      width: 80px;
      height: 80px;
      top: 30%;
      left: 10%;
    }
    
    .shape-2 {
      width: 60px;
      height: 60px;
      bottom: 20%;
      left: 20%;
    }
    
    /* Studio Story Section - Page Blueprints Lines 187-207 */
    .studio-story-section {
      padding: var(--section-spacing-desktop) 0;
      background: white;
    }
    
    .studio-story-content {
      padding-right: 2rem;
    }
    
    .studio-story-text p {
      margin-bottom: 1rem;
      line-height: 1.6;
      color: rgba(0, 5, 16, 0.8);
    }
    
    .studio-story-text p:last-child {
      margin-bottom: 2rem;
    }
    
    /* Page Blueprints Feature Highlights - Lines 193-195 */
    .feature-highlights {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .feature-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .feature-icon {
      color: var(--color-primary-green);
      font-weight: bold;
      font-size: 1.125rem;
    }
    
    .feature-text {
      font-weight: 500;
      color: var(--color-dark-text);
    }
    
    /* Page Blueprints Image Cluster - Lines 196-205 */
    .image-cluster {
      display: flex;
      flex-direction: column;
      gap: 1rem; /* Page Blueprints Line 203: 12-16px gaps */
      height: 400px;
    }
    
    .north-row,
    .south-row {
      display: grid;
      gap: 1rem;
      height: calc(50% - 0.5rem); /* Equal height rows accounting for gap */
    }
    
    /* North Row: West ‚Öî, East ‚Öì */
    .north-row {
      grid-template-columns: 2fr 1fr;
    }
    
    /* South Row: West ‚Öì, East ‚Öî */
    .south-row {
      grid-template-columns: 1fr 2fr;
    }
    
    .cluster-image {
      overflow: hidden;
      border-radius: var(--border-radius-medium); /* Page Blueprints Line 204: ~8-12px radius */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Page Blueprints Line 203: subtle drop shadows */
    }
    
    .cluster-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    /* North Row Specific Styling */
    .north-west {
      /* Full height for west cell */
    }
    
    .north-east {
      height: 50%; /* 50% height of west cell */
      align-self: flex-end; /* Bottom aligned */
    }
    
    /* South Row Specific Styling */
    .south-west {
      height: 60%; /* 60% height */
      align-self: flex-start; /* Top aligned */
    }
    
    .south-east {
      /* Full height for east cell */
    }
    
    /* Teacher Card Section - Page Blueprints Lines 209-211 */
    .teacher-card-section {
      padding: var(--section-spacing-desktop) 0;
      background: rgba(153, 227, 158, 0.03);
    }
    
    .teacher-card {
      display: flex;
      align-items: flex-start;
      gap: 2rem;
      padding: 2rem;
      text-align: left;
    }
    
    /* Page Blueprints Photo - Line 210: 120√ó120 rounded */
    .teacher-photo {
      flex-shrink: 0;
    }
    
    .teacher-image {
      width: 120px; /* Page Blueprints Line 210: 120√ó120 */
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--color-primary-green);
    }
    
    .teacher-info {
      flex: 1;
    }
    
    .teacher-name {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--color-dark-text);
      margin-bottom: 0.5rem;
    }
    
    .teacher-instruments {
      font-size: 1rem;
      color: var(--color-primary-green);
      font-weight: 500;
      margin-bottom: 1rem;
    }
    
    .teacher-bio {
      font-size: 0.875rem;
      line-height: 1.6;
      color: rgba(0, 5, 16, 0.8);
      margin-bottom: 1.5rem;
    }
    
    /* Page Blueprints Optional Chips - Line 211 */
    .teacher-availability {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    
    .availability-chip {
      background: rgba(153, 227, 158, 0.2);
      color: var(--color-dark-text);
      padding: 0.375rem 0.75rem;
      border-radius: var(--border-radius-pill);
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    /* Compact CTA Section - Page Blueprints Lines 213-214 */
    .compact-cta-section {
      padding: 3rem 0;
      background: var(--color-dark-text);
    }
    
    .compact-cta-content {
      color: var(--color-warm-off-white);
    }
    
    .cta-prompt {
      font-size: 1.25rem;
      font-weight: 500;
      margin-bottom: 1.5rem;
      color: var(--color-warm-off-white);
    }
    
    /* Responsive Adjustments - Page Blueprints responsive guidelines */
    @media (max-width: 1199px) {
      .about-hero-headline {
        font-size: 3rem;
      }
      
      .about-hero-character {
        width: 160px;
      }
    }
    
    @media (max-width: 767px) {
      .about-hero-section {
        min-height: 60vh;
        text-align: center;
      }
      
      .about-hero-headline {
        font-size: 2.25rem;
      }
      
      /* Page Blueprints Line 182: Mobile stack elements vertically */
      .hero-character-container {
        position: static;
        transform: none;
        margin-top: 2rem;
        text-align: center;
      }
      
      .about-hero-character {
        width: 140px; /* Page Blueprints Line 182: reduce character size */
      }
      
      .about-hero-cta {
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
      }
      
      .primary-cta,
      .secondary-cta {
        width: 100%;
        max-width: 280px;
        justify-content: center;
      }
      
      .teacher-card {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
      }
      
      .teacher-photo {
        align-self: center;
      }
      
      .studio-story-images {
        display: none !important; /* Hide image cluster on mobile */
      }
      
      .two-column-grid {
        grid-template-columns: 1fr; /* Single column on mobile */
      }
      
      .studio-story-content {
        padding-right: 0; /* Remove right padding on mobile */
      }
    }
  </style>

  <!-- Page-specific JavaScript -->
  <script>
    // Enhanced Component Loading System with file:// protocol support
    async function loadComponents() {
      try {
        await Promise.all([
          loadComponent('navigation', 'navigation-placeholder'),
          loadComponent('footer', 'footer-placeholder'),
          loadComponent('enroll-modal', 'enroll-modal-placeholder')
        ]);
        
        // Initialize components after loading
        initializeComponents();
      } catch (error) {
        console.error('Failed to load components:', error);
        // Fallback to inline components
        loadFallbackComponents();
      }
    }

    async function loadComponent(componentName, placeholderId) {
      const placeholder = document.getElementById(placeholderId);
      if (!placeholder) {
        console.warn(`Placeholder ${placeholderId} not found`);
        return;
      }

      try {
        // Try to load component via fetch first
        const response = await fetch(`components/${componentName}.html`);
        if (response.ok) {
          const html = await response.text();
          placeholder.innerHTML = html;
          return;
        }
      } catch (error) {
        // Fetch failed, likely file:// protocol
      }

      // Fallback: Load component content directly
      loadComponentFallback(componentName, placeholder);
    }

    function loadComponentFallback(componentName, placeholder) {
      switch (componentName) {
        case 'navigation':
          loadNavigationFallback(placeholder);
          break;
        case 'footer':
          loadFooterFallback(placeholder);
          break;
        case 'enroll-modal':
          loadEnrollModalFallback(placeholder);
          break;
      }
    }

    function loadNavigationFallback(placeholder) {
      placeholder.innerHTML = `
        <header class="global-header" style="position: sticky; top: 0; z-index: 100; background: var(--color-warm-off-white); border-bottom: 1px solid rgba(0, 5, 16, 0.1); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);">
          <nav class="main-navigation" role="navigation" aria-label="Main navigation">
            <div class="page-container">
              <div class="nav-container" style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 0; min-height: 64px;">
                <div class="nav-brand" style="flex-shrink: 0;">
                  <a href="index.html" class="brand-link" aria-label="Cedar Heights Music Academy - Home" style="text-decoration: none; color: var(--color-dark-text);">
                    <span class="wordmark" style="font-size: 1.25rem; font-weight: 700; font-family: var(--font-family-display); letter-spacing: -0.025em;">Cedar Heights Music Academy</span>
                  </a>
                </div>
                <div class="nav-menu" style="display: flex; align-items: center;">
                  <ul class="nav-list" role="menubar" style="display: flex; list-style: none; margin: 0; padding: 0; gap: 2rem;">
                    <li class="nav-item" role="none" style="position: relative;">
                      <a href="index.html" class="nav-link" role="menuitem" style="text-decoration: none; color: var(--color-dark-text); font-weight: 500; padding: 0.5rem 0; transition: var(--transition-normal); position: relative;">
                        <span>Home</span>
                      </a>
                    </li>
                    <li class="nav-item" role="none" style="position: relative;">
                      <a href="about.html" class="nav-link active" role="menuitem" aria-current="page" style="text-decoration: none; color: var(--color-primary-green); font-weight: 600; padding: 0.5rem 0; transition: var(--transition-normal); position: relative;">
                        <span>About</span>
                      </a>
                    </li>
                    <li class="nav-item" role="none" style="position: relative;">
                      <a href="pricing.html" class="nav-link" role="menuitem" style="text-decoration: none; color: var(--color-dark-text); font-weight: 500; padding: 0.5rem 0; transition: var(--transition-normal); position: relative;">
                        <span>Pricing</span>
                      </a>
                    </li>
                    <li class="nav-item" role="none" style="position: relative;">
                      <button onclick="openEnrollModal()" class="nav-link enroll-button" role="menuitem" style="background: var(--color-primary-green) !important; color: var(--color-dark-text) !important; padding: 0.5rem 1rem !important; border-radius: 8px !important; font-weight: 600 !important; border: none; cursor: pointer; font-family: inherit; font-size: inherit; transition: var(--transition-normal);">
                        <span>Enroll</span>
                      </button>
                    </li>
                    <li class="nav-item" role="none" style="position: relative;">
                      <a href="contact.html" class="nav-link" role="menuitem" style="text-decoration: none; color: var(--color-dark-text); font-weight: 500; padding: 0.5rem 0; transition: var(--transition-normal); position: relative;">
                        <span>Contact</span>
                      </a>
                    </li>
                  </ul>
                </div>
                <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu" style="display: none; flex-direction: column; justify-content: center; align-items: center; width: 44px; height: 44px; background: none; border: none; cursor: pointer; padding: 8px; gap: 4px;">
                  <span class="hamburger-line" style="width: 24px; height: 2px; background: var(--color-dark-text); transition: var(--transition-normal); border-radius: 1px;"></span>
                  <span class="hamburger-line" style="width: 24px; height: 2px; background: var(--color-dark-text); transition: var(--transition-normal); border-radius: 1px;"></span>
                  <span class="hamburger-line" style="width: 24px; height: 2px; background: var(--color-dark-text); transition: var(--transition-normal); border-radius: 1px;"></span>
                </button>
              </div>
            </div>
            <div class="mobile-menu" id="mobile-menu" style="display: none; position: fixed; top: 100%; left: 0; right: 0; background: var(--color-warm-off-white); border-top: 1px solid rgba(0, 5, 16, 0.1); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); transform: translateY(-100%); transition: transform var(--transition-normal); z-index: 99;">
              <div class="mobile-menu-content" style="padding: 1rem 0;">
                <ul class="mobile-nav-list" role="menu" style="list-style: none; margin: 0; padding: 0;">
                  <li class="mobile-nav-item" role="none" style="border-bottom: 1px solid rgba(0, 5, 16, 0.05);">
                    <a href="index.html" class="mobile-nav-link" role="menuitem" style="display: block; padding: 1rem var(--content-padding-mobile); text-decoration: none; color: var(--color-dark-text); font-weight: 500; transition: var(--transition-normal); width: 100%; text-align: left;">
                      <span>Home</span>
                    </a>
                  </li>
                  <li class="mobile-nav-item" role="none" style="border-bottom: 1px solid rgba(0, 5, 16, 0.05);">
                    <a href="about.html" class="mobile-nav-link active" role="menuitem" aria-current="page" style="display: block; padding: 1rem var(--content-padding-mobile); text-decoration: none; background: rgba(153, 227, 158, 0.1); color: var(--color-primary-green); font-weight: 500; transition: var(--transition-normal); width: 100%; text-align: left;">
                      <span>About</span>
                    </a>
                  </li>
                  <li class="mobile-nav-item" role="none" style="border-bottom: 1px solid rgba(0, 5, 16, 0.05);">
                    <a href="pricing.html" class="mobile-nav-link" role="menuitem" style="display: block; padding: 1rem var(--content-padding-mobile); text-decoration: none; color: var(--color-dark-text); font-weight: 500; transition: var(--transition-normal); width: 100%; text-align: left;">
                      <span>Pricing</span>
                    </a>
                  </li>
                  <li class="mobile-nav-item" role="none" style="border-bottom: 1px solid rgba(0, 5, 16, 0.05);">
                    <button onclick="openEnrollModal()" class="mobile-nav-link enroll-button" role="menuitem" style="background: var(--color-primary-green) !important; color: var(--color-dark-text) !important; font-weight: 600 !important; border-radius: 8px !important; margin: 0.5rem var(--content-padding-mobile) !important; width: calc(100% - 2 * var(--content-padding-mobile)) !important; display: block; padding: 1rem var(--content-padding-mobile); border: none; cursor: pointer; font-family: inherit; font-size: inherit; text-align: left; transition: var(--transition-normal);">
                      <span>Enroll</span>
                    </button>
                  </li>
                  <li class="mobile-nav-item" role="none">
                    <a href="contact.html" class="mobile-nav-link" role="menuitem" style="display: block; padding: 1rem var(--content-padding-mobile); text-decoration: none; color: var(--color-dark-text); font-weight: 500; transition: var(--transition-normal); width: 100%; text-align: left;">
                      <span>Contact</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </header>
      `;
    }

    function loadFooterFallback(placeholder) {
      placeholder.innerHTML = `
        <footer class="global-footer" style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: var(--color-warm-off-white); border-top: 3px solid var(--color-primary-green); box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);">
          <div class="page-container">
            <div class="footer-content" style="display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 3rem; padding: 4rem 0 2.5rem 0;">
              <div class="footer-column footer-brand" style="max-width: 350px;">
                <div class="footer-logo">
                  <span class="footer-wordmark" style="font-size: 1.75rem; font-weight: 700; color: var(--color-warm-off-white); display: block; margin-bottom: 1.25rem; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);">Cedar Heights Music Academy</span>
                </div>
                <p class="footer-description" style="font-size: 0.95rem; line-height: 1.7; color: rgba(252, 244, 226, 0.85); margin: 0;">
                  Personal, one-on-one music lessons in Cedar & Nanaimo. Nurturing young musicians in a supportive environment.
                </p>
              </div>
              <div class="footer-column footer-links">
                <h3 class="footer-heading" style="font-size: 1.1rem; font-weight: 600; color: var(--color-warm-off-white); margin-bottom: 1.25rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid var(--color-primary-green); padding-bottom: 0.5rem; display: inline-block;">Quick Links</h3>
                <ul class="footer-nav-list" style="list-style: none; margin: 0; padding: 0;">
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <a href="about.html" class="footer-nav-link" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0;">About</a>
                  </li>
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <a href="pricing.html" class="footer-nav-link" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0;">Pricing</a>
                  </li>
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <button onclick="openEnrollModal()" class="footer-nav-link footer-enroll-button" style="background: none; border: none; cursor: pointer; font-family: inherit; font-size: 0.9rem; color: rgba(252, 244, 226, 0.8); text-decoration: none; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0; text-align: left; width: 100%;">Enroll</button>
                  </li>
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <a href="contact.html" class="footer-nav-link" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0;">Contact</a>
                  </li>
                </ul>
              </div>
              <div class="footer-column footer-legal">
                <h3 class="footer-heading" style="font-size: 1.1rem; font-weight: 600; color: var(--color-warm-off-white); margin-bottom: 1.25rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid var(--color-primary-green); padding-bottom: 0.5rem; display: inline-block;">Legal</h3>
                <ul class="footer-nav-list" style="list-style: none; margin: 0; padding: 0;">
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <a href="privacy.html" class="footer-nav-link" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0;">Privacy Policy</a>
                  </li>
                  <li class="footer-nav-item" style="margin-bottom: 0.75rem;">
                    <a href="terms.html" class="footer-nav-link" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: inline-block; padding: 0.25rem 0;">Terms of Service</a>
                  </li>
                </ul>
              </div>
              <div class="footer-column footer-social">
                <h3 class="footer-heading" style="font-size: 1.1rem; font-weight: 600; color: var(--color-warm-off-white); margin-bottom: 1.25rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid var(--color-primary-green); padding-bottom: 0.5rem; display: inline-block;">Connect</h3>
                <div class="social-links" style="display: flex; flex-direction: column; gap: 1rem;">
                  <a href="mailto:hello@cedarheightsmusic.com" class="social-link" aria-label="Email us" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; border-radius: 6px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <span class="social-icon" style="font-size: 1.2rem; flex-shrink: 0;">üìß</span>
                    <span class="social-text">hello@cedarheightsmusic.com</span>
                  </a>
                  <a href="tel:+1-250-555-0123" class="social-link" aria-label="Call us" style="color: rgba(252, 244, 226, 0.8); text-decoration: none; font-size: 0.9rem; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; border-radius: 6px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <span class="social-icon" style="font-size: 1.2rem; flex-shrink: 0;">üìû</span>
                    <span class="social-text">(250) 555-0123</span>
                  </a>
                  <div class="social-link location-info" style="color: rgba(252, 244, 226, 0.8); font-size: 0.9rem; display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; border-radius: 6px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <span class="social-icon" style="font-size: 1.2rem; flex-shrink: 0;">üìç</span>
                    <span class="social-text">Cedar Heights, Nanaimo BC</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="footer-bottom" style="border-top: 1px solid rgba(252, 244, 226, 0.2); padding: 2rem 0; text-align: center; background: rgba(0, 0, 0, 0.2);">
              <p class="copyright" style="font-size: 0.875rem; color: rgba(252, 244, 226, 0.7); margin: 0;">
                Cedar Heights Music Academy ¬© 2025. All rights reserved.
              </p>
            </div>
          </div>
        </footer>
      `;
    }

    function loadEnrollModalFallback(placeholder) {
      placeholder.innerHTML = '<div id="enroll-modal" style="display: none;"></div>';
    }

    function initializeComponents() {
      // Initialize mobile menu functionality
      initializeMobileMenu();
      
      // Initialize modal functionality
      initializeEnrollModal();
      
      // Set active navigation states
      setActiveNavigation();
    }

    function initializeMobileMenu() {
      const mobileToggle = document.querySelector('.mobile-menu-toggle');
      const mobileMenu = document.querySelector('.mobile-menu');
      
      if (mobileToggle && mobileMenu) {
        mobileToggle.addEventListener('click', function() {
          const isExpanded = mobileToggle.getAttribute('aria-expanded') === 'true';
          
          mobileToggle.setAttribute('aria-expanded', !isExpanded);
          mobileMenu.classList.toggle('active');
          
          document.body.style.overflow = !isExpanded ? 'hidden' : '';
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
          if (!mobileToggle.contains(event.target) && !mobileMenu.contains(event.target)) {
            mobileToggle.setAttribute('aria-expanded', 'false');
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
          }
        });
        
        // Close menu on escape key
        document.addEventListener('keydown', function(event) {
          if (event.key === 'Escape' && mobileMenu.classList.contains('active')) {
            mobileToggle.setAttribute('aria-expanded', 'false');
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
            mobileToggle.focus();
          }
        });
      }
    }

    function setActiveNavigation() {
      const currentPath = window.location.pathname;
      const currentPage = currentPath.split('/').pop() || 'about.html';
      
      // Remove active class from all nav links
      const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');
      navLinks.forEach(link => {
        link.classList.remove('active');
        link.removeAttribute('aria-current');
      });
      
      // Add active class to current page links
      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href === currentPage || (currentPage === 'about.html' && href === 'about.html')) {
          link.classList.add('active');
          link.setAttribute('aria-current', 'page');
        }
      });
    }

    function loadFallbackComponents() {
      // If all else fails, ensure basic navigation exists
      const navPlaceholder = document.getElementById('navigation-placeholder');
      if (navPlaceholder && !navPlaceholder.innerHTML.trim()) {
        loadNavigationFallback(navPlaceholder);
      }
      
      const footerPlaceholder = document.getElementById('footer-placeholder');
      if (footerPlaceholder && !footerPlaceholder.innerHTML.trim()) {
        loadFooterFallback(footerPlaceholder);
      }
      
      initializeComponents();
    }

    // Global modal functions
    function openEnrollModal() {
      const modal = document.getElementById('enroll-modal');
      if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        // Focus first focusable element
        const firstFocusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if (firstFocusable) {
          firstFocusable.focus();
        }
      }
    }

    function closeEnrollModal() {
      const modal = document.getElementById('enroll-modal');
      if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = '';
      }
    }

    function initializeEnrollModal() {
      const modal = document.getElementById('enroll-modal');
      if (!modal) return;

      // Add event listeners
      const closeButton = modal.querySelector('.modal-close');
      if (closeButton) {
        closeButton.addEventListener('click', closeEnrollModal);
      }

      // Close on escape key
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && modal.style.display === 'flex') {
          closeEnrollModal();
        }
      });

      // Close on outside click
      modal.addEventListener('click', function(event) {
        if (event.target === modal) {
          closeEnrollModal();
        }
      });
    }

    // Initialize everything when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      // Load all components first
      loadComponents();
    });
  </script>
</body>
</html>